{% extends 'Site/base/base.html' %}
{% load static %}

{% block title %}
	Profile
{% endblock title %}

{% block content %}
	<h2 style='text-align:center'>Profile of {{ view.kwargs.pk }}</h2>
	<br><br>
	<form method="post" enctype="multipart/form-data" style="padding-left:10%;padding-right: 10%;">
		{% csrf_token %}
		{% if not owner and not admin %}
			<fieldset class="form-group" style="border: solid;" disabled>
		{% else %}
			<fieldset class="form-group" style="border: solid;">
		{% endif %}
		{% for field in form %}
			<br>
			<div style="padding-left:5%;display:flex;align-items:center;">
			{{ field.label_tag }}&nbsp&nbsp
			{% if field.label == "ProfileImage"%}
				{% if field.initial %}
					<div style="display:flex;align-items: center;">
						<img src="{{ field.initial.url }}" width="100px" height="100px">
					</div>
				{% endif %}
			{% else %}
				{% if field.label == "Is_Admin" and not admin %}
					<fieldset disabled>
				{% endif %}
				{{ field }}
				{% if field.label == "Is_Admin" and not admin %}
					</fieldset>
				{% endif %}
			{% endif %}
			</div>
			{% if field.label == "ProfileImage"%}
				{% if owner or admin %}
					<div style="padding-left:5%;">
						<input type="file" name="profileImage" accept="image/*" id="id_profileImage">
					</div>
				{% endif %}
			{% endif %}
			{% for error in field.errors %}
			{{ error }}
			{% endfor %}
		{% endfor %}
			</fieldset>
		{% if owner or admin %}
			<button type="submit">Submit</button>
		{% endif %}
	</form>
	{% if start%}
		<div style="text-align: center" >
			<a href="{% url 'Site:discussionDetail' user1=request.user.nickName user2=view.kwargs.pk %}">Start Discussion</a>
		</div>
	{% endif %}
{% endblock content %}